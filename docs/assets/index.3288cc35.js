var S=(l,t,i)=>{if(!t.has(l))throw TypeError("Cannot "+i)};var s=(l,t,i)=>(S(l,t,"read from private field"),i?i.call(l):t.get(l)),d=(l,t,i)=>{if(t.has(l))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(l):t.set(l,i)},m=(l,t,i,o)=>(S(l,t,"write to private field"),o?o.call(l,i):t.set(l,i),i),N=(l,t,i,o)=>({set _(e){m(l,t,e,i)},get _(){return s(l,t,o)}}),h=(l,t,i)=>(S(l,t,"access private method"),i);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function i(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=i(e);fetch(e.href,r)}})();const c=3,a=250,L=8;var n,f,w,p,E,R,$,O,T,A,I,B,b,x,y,_,g,v;class H{constructor(t){d(this,E);d(this,$);d(this,T);d(this,I);d(this,b);d(this,y);d(this,g);d(this,n,void 0);d(this,f,void 0);d(this,w,void 0);d(this,p,void 0);m(this,n,Array.from({length:c*c},(r,u)=>u)),m(this,p,0),h(this,$,O).call(this);const i=document.createElement("h1");i.classList.add("board__title");const o=document.createElement("div");o.style.width=a*c+"px",o.style.height=a*c+"px",o.classList.add("board");const e=document.createElement("button");e.classList.add("board__shuffle"),e.innerHTML="Shuffle",t.append(i),t.append(o),t.append(e),m(this,f,o),m(this,w,i),s(this,f).addEventListener("click",h(this,I,B).bind(this)),e.addEventListener("click",h(this,T,A).bind(this))}render(){const t=s(this,n).every((o,e)=>o===e),i=s(this,n).reduce((o,e,r)=>{const u=h(this,y,_).call(this,r),k=h(this,b,x).call(this,r),M=h(this,y,_).call(this,e),C=h(this,b,x).call(this,e);return o.push(`<div class="board__tile ${e===L&&!t?"board__tile--blank":""}" style="left:${u*a}px; top:${k*a}px; width:${a}px; height:${a}px; background-position: -${M*a}px -${C*a}px;" data-index="${r}">${e+1}</div>`),o},[]);if(s(this,f).classList.remove("board--solved"),s(this,w).innerHTML=t?`Solved with ${s(this,p)} moves`:`Moves: ${s(this,p)}`,s(this,f).innerHTML=i.join(""),t){s(this,f).classList.add("board--solved");const o=`<iframe
          width="${a*c}"
          height="${a*c}"
          allow="autoplay; encrypted-media"
          frameborder="0"
          src="https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=1"
        >
        </iframe>`;setTimeout(()=>{s(this,f).innerHTML=o},2e3)}}}n=new WeakMap,f=new WeakMap,w=new WeakMap,p=new WeakMap,E=new WeakSet,R=function(t){let i=0;for(let o=0;o<t.length-1;o++)if(t[o]!==L)for(let e=o+1;e<t.length;e++)t[e]!==L&&t[o]>t[e]&&i++;return i%2===0},$=new WeakSet,O=function(){m(this,p,0),s(this,n).sort(()=>Math.random()-.5),h(this,E,R).call(this,s(this,n))||([s(this,n)[0],s(this,n)[1]].includes(L)&&([s(this,n)[s(this,n).length-1],s(this,n)[s(this,n).length-2]]=[s(this,n)[s(this,n).length-2],s(this,n)[s(this,n).length-1]]),[s(this,n)[0],s(this,n)[1]]=[s(this,n)[1],s(this,n)[0]])},T=new WeakSet,A=function(){h(this,$,O).call(this),this.render()},I=new WeakSet,B=function(t){const i=t.target.dataset.index,o=s(this,n).indexOf(L),[e,r]=[h(this,b,x).call(this,o),h(this,y,_).call(this,o)],u=h(this,g,v).call(this,e-1,r),k=h(this,g,v).call(this,e+1,r),M=h(this,g,v).call(this,e,r-1),C=h(this,g,v).call(this,e,r+1);![u,k,M,C].includes(Number(i))||([s(this,n)[i],s(this,n)[o]]=[s(this,n)[o],s(this,n)[i]],N(this,p)._++,this.render())},b=new WeakSet,x=function(t){return Math.floor(t/c)},y=new WeakSet,_=function(t){return t%c},g=new WeakSet,v=function(t,i){return t<0||t>c-1||i<0||i>c-1?-1:t*c+i};new H(document.getElementById("app")).render();
